// Mock 鏁版嵁鐢ㄤ簬娴嬭瘯锛屼笉璋冪敤鐪熷疄 API
import type { PRDContent } from './types';

// Mock 璇煶杞枃鏈?export async function mockTranscribeAudio(audioFile: File): Promise<string> {
  // 妯℃嫙 API 寤惰繜
  await new Promise(resolve => setTimeout(resolve, 500));
  
  // 杩斿洖妯℃嫙鐨勮浆鍐欐枃鏈?  return `浠婂ぉ鎴戜滑璁ㄨ涓€涓嬬敤鎴风鐞嗙郴缁熺殑浼樺寲闇€姹傘€?
棣栧厛锛岀敤鎴峰弽棣堟渶澶氱殑闂鏄櫥褰曟祦绋嬪お澶嶆潅锛岄渶瑕佽緭鍏ュお澶氫俊鎭€傜敤鎴峰笇鏈涜兘澶熷揩閫熺櫥褰曪紝鐗瑰埆鏄€氳繃鎵嬫満鍙烽獙璇佺爜鐨勬柟寮忋€?
鍙﹀锛岀敤鎴峰笇鏈涘湪涓汉涓績鑳藉鐪嬪埌鑷繁鐨勫巻鍙茶鍗曪紝骞朵笖鑳藉瀵煎嚭璁㈠崟鏁版嵁銆傜洰鍓嶇敤鎴峰彧鑳藉湪绾挎煡鐪嬶紝鏃犳硶瀵煎嚭銆?
杩樻湁涓€涓棝鐐癸紝灏辨槸瀵嗙爜閲嶇疆娴佺▼銆傜敤鎴峰弽鏄犲繕璁板瘑鐮佸悗锛岄噸缃祦绋嬪お绻佺悙锛岄渶瑕侀獙璇侀偖绠便€佹墜鏈哄彿绛夊涓楠ゃ€傚笇鏈涜兘澶熺畝鍖栬繖涓祦绋嬨€?
鎴戜滑杩橀渶瑕佽€冭檻娣诲姞涓€涓姛鑳斤紝灏辨槸鐢ㄦ埛鑳藉鑷畾涔変釜浜鸿祫鏂欑殑澶村儚鍜屾樀绉般€傜洰鍓嶇郴缁熷彧鏀寔浣跨敤榛樿澶村儚銆?
鏈€鍚庯紝鐢ㄦ埛甯屾湜鑳藉鎵归噺瀵煎叆鐢ㄦ埛鏁版嵁锛岃繖瀵逛簬浼佷笟鐢ㄦ埛鏉ヨ寰堥噸瑕併€俙;
}

// Mock 闃舵鎬ф€荤粨鐢熸垚
export async function mockGenerateMiniSummary(text: string): Promise<string> {
  // 妯℃嫙 API 寤惰繜
  await new Promise(resolve => setTimeout(resolve, 800));
  
  // 鏍规嵁鏂囨湰闀垮害鐢熸垚涓嶅悓鐨勬€荤粨
  const textLength = text.length;
  if (textLength < 100) {
    return '璁ㄨ寮€濮嬶紝姝ｅ湪鏀堕泦闇€姹備俊鎭€?;
  } else if (textLength < 500) {
    return '宸茶瘑鍒牳蹇冮渶姹傦細鐢ㄦ埛鐧诲綍娴佺▼浼樺寲鍜岃鍗曠鐞嗗姛鑳藉寮恒€?;
  } else {
    return '鏍稿績瑕佺偣锛?. 绠€鍖栫櫥褰曟祦绋嬶紝鏀寔鎵嬫満鍙烽獙璇佺爜鐧诲綍锛?. 澧炲姞璁㈠崟鏁版嵁瀵煎嚭鍔熻兘锛?. 浼樺寲瀵嗙爜閲嶇疆娴佺▼锛?. 鏀寔涓汉淇℃伅鑷畾涔夛紱5. 鏀寔鎵归噺鐢ㄦ埛鏁版嵁瀵煎叆銆?;
  }
}

// Mock 鑷姩鐢熸垚绠€鎶ワ紙鐢ㄤ簬娴嬭瘯锛屼笉渚濊禆杞啓鏂囨湰锛?export function getMockSummary(index: number): string {
  const summaries = [
    '璁ㄨ寮€濮嬶紝姝ｅ湪鏀堕泦鐢ㄦ埛鍙嶉鍜岄渶姹備俊鎭€?,
    '宸茶瘑鍒牳蹇冮渶姹傦細鐢ㄦ埛鐧诲綍娴佺▼浼樺寲鍜岃鍗曠鐞嗗姛鑳藉寮恒€?,
    '鏍稿績瑕佺偣锛?. 绠€鍖栫櫥褰曟祦绋嬶紝鏀寔鎵嬫満鍙烽獙璇佺爜鐧诲綍锛?. 澧炲姞璁㈠崟鏁版嵁瀵煎嚭鍔熻兘銆?,
    '杩涗竴姝ヨ璁猴細3. 浼樺寲瀵嗙爜閲嶇疆娴佺▼锛?. 鏀寔涓汉淇℃伅鑷畾涔夊姛鑳姐€?,
    '琛ュ厖闇€姹傦細5. 鏀寔鎵归噺鐢ㄦ埛鏁版嵁瀵煎叆锛屾弧瓒充紒涓氱敤鎴烽渶姹傘€?,
    '鎬荤粨锛氬凡瀹屾垚闇€姹傛敹闆嗭紝鍑嗗杩涘叆璁捐鍜屽紑鍙戦樁娈点€?,
    '璁ㄨ杩涘睍锛氭妧鏈洟闃熻瘎浼板疄鐜版柟妗堬紝棰勮寮€鍙戝懆鏈?2-3 鍛ㄣ€?,
    '鏇存柊锛氫骇鍝佸洟闃熺‘璁や紭鍏堢骇锛岄珮浼樺厛绾у姛鑳戒紭鍏堝紑鍙戙€?,
    '杩涘睍锛歎I/UX 璁捐宸插畬鎴愬垵绋匡紝绛夊緟璇勫鍜岀‘璁ゃ€?,
    '鐘舵€侊細寮€鍙戝洟闃熷凡寮€濮嬬紪鐮侊紝棰勮涓嬪懆瀹屾垚鏍稿績鍔熻兘銆?
  ];
  
  return summaries[index % summaries.length];
}

// Mock PRD 鐢熸垚
export async function mockGeneratePRD(transcription: string): Promise<PRDContent> {
  // 妯℃嫙 API 寤惰繜
  await new Promise(resolve => setTimeout(resolve, 1500));
  
  // 杩斿洖妯℃嫙鐨?PRD 鍐呭
  return {
    background: '鐢ㄦ埛绠＄悊绯荤粺鏄钩鍙扮殑鏍稿績鍔熻兘涔嬩竴锛屽綋鍓嶇郴缁熷瓨鍦ㄤ竴浜涚敤鎴蜂綋楠岄棶棰橈紝褰卞搷浜嗙敤鎴风殑浣跨敤鏁堢巼鍜屾弧鎰忓害銆傞€氳繃鏈浼樺寲锛屾棬鍦ㄦ彁鍗囩敤鎴风櫥褰曘€佷釜浜轰俊鎭鐞嗐€佹暟鎹鍑虹瓑鏍稿績鍔熻兘鐨勬槗鐢ㄦ€с€?,
    objectives: [
      '绠€鍖栫敤鎴风櫥褰曟祦绋嬶紝鎻愬崌鐧诲綍鏁堢巼',
      '澧炲己涓汉淇℃伅绠＄悊鍔熻兘锛屾彁鍗囩敤鎴蜂綋楠?,
      '浼樺寲瀵嗙爜閲嶇疆娴佺▼锛岄檷浣庣敤鎴锋搷浣滃鏉傚害',
      '鏀寔鏁版嵁瀵煎嚭鍔熻兘锛屾弧瓒充紒涓氱敤鎴烽渶姹?,
      '鏀寔鎵归噺鐢ㄦ埛鏁版嵁瀵煎叆锛屾彁鍗囩鐞嗘晥鐜?
    ],
    painPoints: [
      '鐧诲綍娴佺▼澶嶆潅锛岄渶瑕佽緭鍏ヨ繃澶氫俊鎭?,
      '鏃犳硶瀵煎嚭璁㈠崟鏁版嵁锛屽奖鍝嶆暟鎹垎鏋?,
      '瀵嗙爜閲嶇疆娴佺▼绻佺悙锛岄渶瑕佸姝ラ楠岃瘉',
      '涓汉淇℃伅鑷畾涔夊姛鑳戒笉瓒?,
      '缂轰箯鎵归噺鏁版嵁瀵煎叆鍔熻兘'
    ],
    userStories: [
      {
        as: '鏅€氱敤鎴?,
        want: '閫氳繃鎵嬫満鍙烽獙璇佺爜蹇€熺櫥褰?,
        soThat: '鍑忓皯鐧诲綍鏃堕棿锛屾彁鍗囦娇鐢ㄤ綋楠?
      },
      {
        as: '浼佷笟鐢ㄦ埛',
        want: '瀵煎嚭鍘嗗彶璁㈠崟鏁版嵁',
        soThat: '杩涜鏁版嵁鍒嗘瀽鍜岃储鍔″璐?
      },
      {
        as: '蹇樿瀵嗙爜鐨勭敤鎴?,
        want: '绠€鍖栧瘑鐮侀噸缃祦绋?,
        soThat: '蹇€熸仮澶嶈处鎴疯闂潈闄?
      },
      {
        as: '骞冲彴鐢ㄦ埛',
        want: '鑷畾涔夊ご鍍忓拰鏄电О',
        soThat: '涓€у寲鎴戠殑涓汉璧勬枡'
      },
      {
        as: '浼佷笟绠＄悊鍛?,
        want: '鎵归噺瀵煎叆鐢ㄦ埛鏁版嵁',
        soThat: '蹇€熷畬鎴愮敤鎴蜂俊鎭綍鍏?
      }
    ],
    features: [
      {
        name: '鎵嬫満鍙烽獙璇佺爜鐧诲綍',
        description: '鏀寔鐢ㄦ埛閫氳繃鎵嬫満鍙锋帴鏀堕獙璇佺爜杩涜蹇€熺櫥褰曪紝鏃犻渶杈撳叆澶嶆潅瀵嗙爜銆?,
        priority: 'high'
      },
      {
        name: '璁㈠崟鏁版嵁瀵煎嚭',
        description: '鐢ㄦ埛鍙互鍦ㄤ釜浜轰腑蹇冨鍑哄巻鍙茶鍗曟暟鎹紝鏀寔 Excel 鍜?CSV 鏍煎紡銆?,
        priority: 'high'
      },
      {
        name: '绠€鍖栧瘑鐮侀噸缃?,
        description: '浼樺寲瀵嗙爜閲嶇疆娴佺▼锛屽噺灏戦獙璇佹楠わ紝鏀寔閫氳繃鎵嬫満鍙锋垨閭鍗曚竴鏂瑰紡閲嶇疆銆?,
        priority: 'medium'
      },
      {
        name: '涓汉淇℃伅鑷畾涔?,
        description: '鏀寔鐢ㄦ埛涓婁紶鑷畾涔夊ご鍍忓拰淇敼鏄电О锛屾彁鍗囦釜鎬у寲浣撻獙銆?,
        priority: 'medium'
      },
      {
        name: '鎵归噺鐢ㄦ埛瀵煎叆',
        description: '浼佷笟鐢ㄦ埛鍙互閫氳繃 Excel 妯℃澘鎵归噺瀵煎叆鐢ㄦ埛鏁版嵁锛屾敮鎸佹暟鎹牎楠屽拰閿欒鎻愮ず銆?,
        priority: 'low'
      }
    ],
    flows: '鐧诲綍娴佺▼浼樺寲锛?. 鐢ㄦ埛閫夋嫨"鎵嬫満鍙风櫥褰?锛?. 杈撳叆鎵嬫満鍙凤紱3. 鐐瑰嚮鑾峰彇楠岃瘉鐮侊紱4. 杈撳叆鏀跺埌鐨勯獙璇佺爜锛?. 绯荤粺楠岃瘉閫氳繃鍚庤嚜鍔ㄧ櫥褰曘€俓n\n瀵嗙爜閲嶇疆娴佺▼浼樺寲锛?. 鐢ㄦ埛鐐瑰嚮"蹇樿瀵嗙爜"锛?. 閫夋嫨閲嶇疆鏂瑰紡锛堟墜鏈哄彿鎴栭偖绠憋級锛?. 杈撳叆鎵嬫満鍙?閭骞惰幏鍙栭獙璇佺爜锛?. 杈撳叆楠岃瘉鐮佸拰鏂板瘑鐮侊紱5. 閲嶇疆瀹屾垚锛岃嚜鍔ㄧ櫥褰曘€俓n\n璁㈠崟瀵煎嚭娴佺▼锛?. 鐢ㄦ埛杩涘叆涓汉涓績锛?. 鐐瑰嚮"璁㈠崟绠＄悊"锛?. 閫夋嫨"瀵煎嚭璁㈠崟"锛?. 閫夋嫨瀵煎嚭鏍煎紡锛圗xcel/CSV锛夛紱5. 绯荤粺鐢熸垚鏂囦欢骞朵笅杞姐€?
  };
}
